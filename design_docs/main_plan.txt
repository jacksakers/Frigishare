Design Document: The Family Fridge Tracker

1. Executive Summary

Project Name: FridgeSync (Working Title)
Goal: A collaborative inventory management system for households that visualizes fridge and pantry contents, automates shopping lists based on usage rates, and allows for family coordination.
Core Vibe: Skeuomorphic, tactile, "Kitchen-Fresh," easy-to-use.

2. Tech Stack Strategy

Frontend: React (Vite)

Styling: Tailwind CSS (configured for skeuomorphic depth, shadows, and textures).

Backend / Auth: Firebase Authentication (Google Auth + Email/Pass).

Database: Cloud Firestore (NoSQL).

State Management: React Context API (sufficient for MVP) or Zustand.

Icons: Lucide-React or HeroIcons.

3. Data Structure (Firestore Schema)

This is the most critical part to get right for a multi-user app.

Collection: households (The Root)

Every document here represents one "Home".

id: (Auto-generated)

name: "The Seinfeld Apartment"

members: ['uid_1', 'uid_2'] (Array of user IDs allowed to edit)

Sub-Collection: items (Inside households)

id: (Auto-generated)

name: "Everything Bagels"

location: "fridge" | "pantry"

subLocation: "top-shelf" | "door" | "crisper" (Customizable sorting)

category: "grains" | "dairy" | "produce"

quantity: 6 (Number)

unit: "bagels" | "oz" | "carton"

weeklyConsumption: 3 (How many are consumed per week automatically)

minThreshold: 2 (If quantity drops below this, add to shopping list)

note: "Jerry's - do not touch!" (String)

expiryDate: Timestamp (Optional)

Sub-Collection: shopping_list (Inside households)

id: (Auto-generated)

name: "Milk"

isAutoGenerated: true (Boolean - was this added by the bagel logic?)

checked: false

4. Key Logic Flows

A. The "Bagel Algorithm" (Consumption Logic)

Since users won't log every bite, we use a time-based deduction system.

Trigger: User opens the app after a specific interval (e.g., 1 week).

Check: Loop through all items where weeklyConsumption > 0.

Prompt: Display a "Weekly Check-in" Modal.

App asks: "Did you eat 3 bagels this week?"

User Action: "Yes" (Deduct 3) | "No, we ate 1" (Deduct 1) | "We ate all of them" (Set qty to 0).

Result: Update Inventory. If quantity < minThreshold, trigger Shopping List Add.

B. The Shopping List Logic

Manual: User types "Eggs".

Automatic: When Inventory Item updates, if current_qty <= min_threshold, check if item exists in Shopping List. If not, add it.

5. UI/UX Aesthetic (Skeuomorphism)

Fridge View: White/Off-white background (bg-slate-50), rounded corners, inner shadows (shadow-inner) to mimic plastic shelves.

Pantry View: Wood texture or warm beige (bg-orange-50), hard shadows to mimic wooden shelves.

Items: Cards that look like physical objects.

Notes: CSS styled yellow squares looking like "Post-it" notes attached to items.

6. Implementation Plan (Step-by-Step)

Phase 1: The Visual MVP (Current Prototype)

[x] Set up Vite + React + Tailwind.

[x] Build Shelf and Item components.

[x] Implement "Fridge" vs "Pantry" toggle.

[x] Create local Mock Data to test the look.

Phase 2: Firebase Connection

[X] Create Firebase Project.

[X] Enable Authentication (Email).

[X] Enable Firestore.

[X] Create the AuthContext in React to handle user login.

[X] Create a "Join Household" flow (User enters a code to join an existing DB instance).

Phase 3: The CRUD Logic

[ ] Replace local state with Firestore Hooks (onSnapshot for real-time updates).

[ ] Build the "Add Item" Form (Name, Qty, Location, Usage Rate).

[ ] Build the "Edit Item" functionality (Moving items between shelves).

Phase 4: Intelligence & Logic

[ ] Implement the "Weekly Consumption" checker.

[ ] Build the Shopping List view.

[ ] Link Inventory Low-Stock -> Shopping List.

Phase 5: Future AI

[ ] Integrate Gemini API.

[ ] Prompt: "Look at my inventory collection and suggest 3 recipes."